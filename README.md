Configura√ßoes minima
vps 2 GB
primeira instala√ß√£o ubuntu 18.04


WhatTicket
NOTA: A nova vers√£o do whatsapp-web.js exigia o Node 14. Atualize suas instala√ß√µes para continuar usando.

Um Sistema de Tickets muito simples baseado em mensagens do WhatsApp.

O backend usa whatsapp-web.js para receber e enviar mensagens do WhatsApp, criar tickets a partir deles e armazenar tudo em um banco de dados MySQL.

Frontend √© um aplicativo de bate-papo multiusu√°rio com recursos completos, inicializado com react-create-app e Material UI, que se comunica com o backend usando API REST e Websockets. Permite interagir com contatos, tickets, enviar e receber mensagens do WhatsApp.

NOTA: n√£o posso garantir que voc√™ n√£o ser√° bloqueado usando este m√©todo, embora tenha funcionado para mim. O WhatsApp n√£o permite bots ou clientes n√£o oficiais em sua plataforma, portanto, isso n√£o deve ser considerado totalmente seguro.

Como funciona?
A cada nova mensagem recebida em um WhatsApp associado, um novo Ticket √© criado. Ent√£o, esse ticket pode ser acessado em uma fila na p√°gina Tickets, onde voc√™ pode atribuir o ticket a voc√™ mesmo, aceitando-o, respondendo a mensagem do ticket e, eventualmente, resolvendo-o.

As mensagens subsequentes do mesmo contato ser√£o relacionadas ao primeiro ticket aberto/pendente encontrado.

Se um contato enviar uma nova mensagem em menos de 2 horas de intervalo e n√£o houver nenhum ticket desse contato com status pendente/aberto, o ticket fechado mais recente ser√° reaberto, em vez de criar um novo.

Capturas de tela
    

Caracter√≠sticas
Tenha v√°rios usu√°rios conversando no mesmo n√∫mero do WhatsApp ‚úÖ
Conecte-se a v√°rias contas do WhatsApp e receba todas as mensagens em um s√≥ lugar ‚úÖ üÜï
Crie e converse com novos contatos sem tocar no celular ‚úÖ
Enviar e receber mensagem ‚úÖ
Enviar m√≠dia (imagens/√°udio/documentos) ‚úÖ
Receba m√≠dia (imagens/√°udio/v√≠deo/documentos) ‚úÖ
Instala√ß√£o e Uso (Linux Ubuntu - Desenvolvimento)
Crie o banco de dados MySQL usando o docker: Observa√ß√£o: altere MYSQL_DATABASE, MYSQL_PASSWORD, MYSQL_USER e MYSQL_ROOT_PASSWORD.

```bash
docker run --name whaticketdb -e MYSQL_ROOT_PASSWORD=strongpassword -e MYSQL_DATABASE=whaticket -e MYSQL_USER=whaticket -e MYSQL_PASSWORD=whaticket --restart always -p 3306:3306 -d mariadb:latest --character-set-server=utf8mb4 --collation-server=utf8mb4_bin
```

# Ou execute usando `docker-compose` como abaixo
# Antes de copiar .env.example para .env primeiro e definir as vari√°veis no arquivo.
```bash
docker-compose up -d mysql
```

# Para administrar este banco de dados mysql facilmente usando phpmyadmin.
# Ele ser√° executado por padr√£o na porta 9000, mas pode ser alterado em .env usando `PMA_PORT`
docker-compose -f docker-compose.phpmyadmin.yaml up -d


Instale as depend√™ncias do marionetista:
```bash
sudo apt-get install -y libxshmfence-dev libgbm-dev wget unzip fontconfig locales gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3 libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4 libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1 libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6 ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils
```

Clonar este reposit√≥rio
```bash
git clone https://github.com/canove/whaticket/ whaticket
```
V√° para a pasta back-end e crie o arquivo .env:
```bash
cp .env.example .env
nano .env
```
Preencha o arquivo .env com vari√°veis de ambiente:

```bash
NODE_ENV=DEVELOPMENT      #ajuda na depura√ß√£o
BACKEND_URL=http://localhost
FRONTEND_URL=https://localhost:3000
PROXY_PORT=8080
PORT=8080

DB_HOST=                  #IP do host do banco de dados, geralmente localhost
DB_DIALECT=
DB_USER=
DB_PASS=
DB_NAME=

JWT_SECRET=3123123213123
JWT_REFRESH_SECRET=75756756756
```

Instale depend√™ncias de backend, crie aplicativos, execute migra√ß√µes e sementes:

```bash
npm install
npm run build
npx sequelize db:migrate
npx sequelize db:seed:all
```

Iniciar backend:
```bash
npm start
```

Abra um segundo terminal, v√° para a pasta frontend e crie o arquivo .env:
```bash
nano .env
```
Cole este comando abaixo no nano .env com sua URL
REACT_APP_BACKEND_URL = http://localhost:8080/ # O URL do aplicativo de backend configurado anteriormente.

Inicie o aplicativo frontend:
```bash
npm start
```
Vamos para http://your_server_ip:3000/signup
Crie um usu√°rio e fa√ßa login com ele.
Na barra lateral, acesse a p√°gina Conex√µes e crie sua primeira conex√£o do WhatsApp.
Aguarde o bot√£o QR CODE aparecer, clique nele e leia o c√≥digo qr.
Feito. Todas as mensagens recebidas pelo seu n√∫mero do WhatsApp sincronizado aparecer√£o na Lista de Ingressos.
Implanta√ß√£o de produ√ß√£o b√°sica
=================================================================================================


USANDO UBUNTU 20.04 VPS

Todas as instru√ß√µes abaixo assumem que voc√™ N√ÉO est√° executando como root, pois dar√° um erro no marionetista. Ent√£o, vamos come√ßar a criar um novo usu√°rio e conceder privil√©gios sudo a ele:

```bash
adduser deploy
usermod -aG sudo deploy
```
Agora podemos fazer login com este novo usu√°rio:
```bash
su deploy
```

Voc√™ precisar√° de dois subdom√≠nios encaminhados para o ip do seu VPS para seguir estas instru√ß√µes. Usaremos myapp.mydomain.com para front-end e api.mydomain.com para back-end no exemplo a seguir.

Atualize todos os pacotes do sistema:
```bash
sudo apt update && sudo apt upgrade
```

Instale o n√≥ e confirme se o comando do n√≥ est√° dispon√≠vel:
```bash
curl -fsSL https://deb.nodesource.com/setup_14.x | sudo -E bash -
sudo apt-get install -y nodejs
node -v
npm -v
```

Instale o docker e adicione seu usu√°rio ao grupo do docker:
```bash
sudo apt install apt-transport-https ca-certificates curl software-properties-common
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable"
sudo apt update
sudo apt install docker-ce
sudo systemctl status docker
sudo usermod -aG docker ${USER}
su - ${USER}
```

Crie o banco de dados MySQL usando o docker: Observa√ß√£o: altere MYSQL_DATABASE, MYSQL_PASSWORD, MYSQL_USER e MYSQL_ROOT_PASSWORD.
```bash
docker run --name whaticketdb -e MYSQL_ROOT_PASSWORD=strongpassword -e MYSQL_DATABASE=whaticket -e MYSQL_USER=whaticket -e MYSQL_PASSWORD=whaticket --restart always -p 3306:3306 -d mariadb:latest --character-set-server=utf8mb4 --collation-server=utf8mb4_bin
```

# Ou execute usando `docker-compose` como abaixo
# Antes de copiar .env.example para .env primeiro e definir as vari√°veis no arquivo.
```bash
docker-compose up -d mysql
```

# Para administrar este banco de dados mysql facilmente usando phpmyadmin.
# Ele ser√° executado por padr√£o na porta 9000, mas pode ser alterado em .env usando `PMA_PORT`
```bash
docker-compose -f docker-compose.phpmyadmin.yaml up -d
```

Clone este reposit√≥rio:
```bash
cd ~
git clone https://github.com/canove/whaticket whaticket
```
Meu repositorio abaixo
```bash
git clone https://github.com/Digulgasoft/whaticket_installer.git
```

Crie um arquivo .env de back-end e preencha com os detalhes:

cp whaticket/backend/.env.example whaticket/backend/.env
```bash
nano whaticket/backend/.env
```
COPIA ESTE CODIGO ABAIVO NO .ENV COM SEU DOMINIO
```bash
NODE_ENV=
BACKEND_URL=https://api.mydomain.com      #USE HTTPS AQUI, VAMOS ADICIONAR SSL DEPOIS
FRONTEND_URL=https://myapp.mydomain.com   #USE HTTPS AQUI, ADICIONAREMOS SSL DEPOIS, RELACIONADO A CORS!
PROXY_PORT=443                            #USE A PORTA DE PROXY REVERSO DO NGINX AQUI, VAMOS CONFIGURAR MAIS TARDE
PORT=8080

DB_HOST=localhost
DB_DIALECT=
DB_USER=
DB_PASS=
DB_NAME=

JWT_SECRET=3123123213123
JWT_REFRESH_SECRET=75756756756
```

Instale as depend√™ncias do marionetista:
```bash
sudo apt-get install -y libxshmfence-dev libgbm-dev wget unzip fontconfig locales gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3 libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4 libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1 libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6 ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils
```

Instale depend√™ncias de back-end, crie aplicativos, execute migra√ß√µes e sementes:
```bash
cd whaticket/backend
npm install
npm run build
npx sequelize db:migrate
npx sequelize db:seed:all
```

Inicie com npm start, voc√™ dever√° ver: Servidor iniciado na porta... no console. Pressione CTRL + C para sair.

Install pm2 com sudo e inicie o backend com ele:
```bash
sudo npm install -g pm2
pm2 start dist/server.js --name whaticket-backend
```

Fa√ßa o in√≠cio autom√°tico do pm2 ap√≥s a reinicializa√ß√£o:
```bash
pm2 startup ubuntu -u `YOUR_USERNAME`
```

Copie a √∫ltima sa√≠da de linha do comando anterior e execute-o, √© algo como:
```bash
sudo env PATH=\$PATH:/usr/bin pm2 startup ubuntu -u YOUR_USERNAME --hp /home/YOUR_USERNAM
```

V√° para a pasta frontend e instale as depend√™ncias:
```bash
cd ../frontend
npm install
```

Crie um arquivo .env de front-end e preencha-o SOMENTE com seu endere√ßo de backend, ele deve ficar assim:

REACT_APP_BACKEND_URL = https://api.mydomain.com/

Crie um aplicativo de frontend:

```bash
npm run build
```

Inicie o frontend com pm2 e salve a lista de processos pm2 para iniciar automaticamente ap√≥s a reinicializa√ß√£o:
```bash
pm2 start server.js --name whaticket-frontend
pm2 save
```

Para verificar se est√° rodando, execute a lista pm2, deve ficar assim:

deploy@ubuntu-whats:~$ pm2 list
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ id  ‚îÇ name                    ‚îÇ namespace   ‚îÇ version ‚îÇ mode    ‚îÇ pid      ‚îÇ uptime ‚îÇ .    ‚îÇ status    ‚îÇ cpu      ‚îÇ mem      ‚îÇ user     ‚îÇ watching ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1   ‚îÇ whaticket-frontend      ‚îÇ default     ‚îÇ 0.1.0   ‚îÇ fork    ‚îÇ 179249   ‚îÇ 12D    ‚îÇ 0    ‚îÇ online    ‚îÇ 0.3%     ‚îÇ 50.2mb   ‚îÇ deploy   ‚îÇ disabled ‚îÇ
‚îÇ 6   ‚îÇ whaticket-backend       ‚îÇ default     ‚îÇ 1.0.0   ‚îÇ fork    ‚îÇ 179253   ‚îÇ 12D    ‚îÇ 15   ‚îÇ online    ‚îÇ 0.3%     ‚îÇ 118.5mb  ‚îÇ deploy   ‚îÇ disabled ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
Instalar nginx:
```bash
sudo apt install nginx
```

Remova o site padr√£o do nginx:
```bash
sudo rm /etc/nginx/sites-enabled/default
```
Crie um novo site nginx para o aplicativo frontend:
```bash
sudo nano /etc/nginx/sites-available/whaticket-frontend
```

Edite e preencha com essas informa√ß√µes, alterando server_name para o seu equivalente a myapp.mydomain.com:

server {
  server_name myapp.SEU DOMINIO.com;

  location / {
    proxy_pass http://127.0.0.1:3333;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection 'upgrade';
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_cache_bypass $http_upgrade;
  }
}


Crie outro para a API de back-end, alterando server_name para o seu equivalente a api.mydomain.com e proxy_pass para o URL do servidor do n√≥ de back-end localhost:
```bash
sudo cp /etc/nginx/sites-available/whaticket-frontend /etc/nginx/sites-available/whaticket-backend
sudo nano /etc/nginx/sites-available/whaticket-backend
```

server {
  server_name api.mydomain.com;

  location / {
    proxy_pass http://127.0.0.1:8080;
    ......
}


Crie links simb√≥licos para habilitar sites nginx:
```bash
sudo ln -s /etc/nginx/sites-available/whaticket-frontend /etc/nginx/sites-enabled
sudo ln -s /etc/nginx/sites-available/whaticket-backend /etc/nginx/sites-enabled
```

Por padr√£o, o nginx limita o tamanho do corpo a 1 MB, o que n√£o √© suficiente para alguns uploads de m√≠dia. Vamos alter√°-lo para 20 MB, adicionando uma nova linha ao arquivo de configura√ß√£o:
```bash
sudo nano /etc/nginx/nginx.conf
```

...
http {
    ...
    client_max_body_size 20M; # LIDAR COM UPLOADS MAIORES
}


Teste a configura√ß√£o do nginx e reinicie o servidor:
```bash
sudo nginx -t
sudo service nginx restart
```

Agora, ative o SSL (https) em seus sites para usar todos os recursos do aplicativo, como notifica√ß√µes e envio de mensagens de √°udio. Uma maneira f√°cil de fazer isso √© usando o Certbot:

Instale o certbot:
```bash
sudo snap install --classic certbot
sudo apt update
```

Habilite o SSL no nginx (preencha/aceite todas as informa√ß√µes necess√°rias):
```bash
sudo certbot --nginx
```

Usando o docker e o docker-compose
Para executar o WhaTicket usando o docker, voc√™ deve executar as seguintes etapas:

cp .env.example .env
Agora ser√° necess√°rio configurar o .env usando suas informa√ß√µes, as vari√°veis s√£o as mesmas mencionadas na implanta√ß√£o usando o ubuntu, com exce√ß√£o das configura√ß√µes do mysql que n√£o estavam no .env.

# MYSQL
MYSQL_ENGINE=                           # default: mariadb
MYSQL_VERSION=                          # default: 10.6
MYSQL_ROOT_PASSWORD=strongpassword      # change it please
MYSQL_DATABASE=whaticket
MYSQL_PORT=3306                         # default: 3306; Use esta porta para expor o servidor mysql
TZ=America/Fortaleza                    # default: America/Fortaleza; Timezone for mysql

# BACKEND
BACKEND_PORT=                           # default: 8080; mas o acesso pelo host n√£o usa esta porta
BACKEND_SERVER_NAME=api.mydomain.com
BACKEND_URL=https://api.mydomain.com
PROXY_PORT=443
JWT_SECRET=3123123213123                # mude por favor
JWT_REFRESH_SECRET=75756756756          # mude por favor

# FRONTEND
FRONTEND_PORT=80                        # default: 3000; Use a porta 80 para expor em produ√ß√£o
FRONTEND_SSL_PORT=443                   # default: 3001; Use a porta 443 para expor em produ√ß√£o
FRONTEND_SERVER_NAME=myapp.mydomain.com
FRONTEND_URL=https://myapp.mydomain.com

# BROWSERLESS
MAX_CONCURRENT_SESSIONS=                # default: 1; Use apenas se estiver usando sem navegador

Ap√≥s definir as vari√°veis, execute o seguinte comando:
```bash
docker-compose up -d --build
```

Na primeira execu√ß√£o ser√° necess√°rio propagar as tabelas do banco de dados usando o seguinte comando:
```bash
docker-compose exec backend npx sequelize db:seed:all
```

SSL Certificado
Para implantar o certificado ssl, adicione-o √† pasta ssl/certs. Dentro dela deve haver uma pasta de backend e frontend, e cada uma delas deve conter os arquivos fullchain.pem e privkey.pem, conforme a estrutura abaixo:

.
‚îú‚îÄ‚îÄ certs
‚îÇ   ‚îú‚îÄ‚îÄ backend
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fullchain.pem
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ privkey.pem
‚îÇ   ‚îî‚îÄ‚îÄ frontend
‚îÇ       ‚îú‚îÄ‚îÄ fullchain.pem
‚îÇ       ‚îî‚îÄ‚îÄ privkey.pem
‚îî‚îÄ‚îÄ www
Para gerar os arquivos de certificado use o certbot que pode ser instalado usando o snap, usei o seguinte comando:

Nota: O container frontend que roda o nginx j√° est√° preparado para receber a solicita√ß√£o feita pelo certboot para validar o certificado.

# FRONTEND
```bash
certbot certonly --cert-name backend --webroot --webroot-path ./ssl/www/ -d api.mydomain.com
```
# BACKEND
```bash
certbot certonly --cert-name frontend --webroot --webroot-path ./ssl/www/ -d myapp.mydomain.com
```

Dados de acesso
User: admin@whaticket.com Password: admin

Atualizando
O WhaTicket est√° em andamento e estamos adicionando novos recursos com frequ√™ncia. Para atualizar sua instala√ß√£o antiga e obter todos os novos recursos, voc√™ pode usar um script bash como este:

Nota: Sempre verifique o .env.example e ajuste seu arquivo .env antes de atualizar, pois alguma nova vari√°vel pode ser adicionada.
```bash
nano updateWhaticket
```


```bash
#!/bin/bash
echo "Atualizando o Whaticket, aguarde."

cd ~
cd whaticket
git pull
cd backend
npm install
rm -rf dist
npm run build
npx sequelize db:migrate
npx sequelize db:seed
cd ../frontend
npm install
rm -rf build
npm run build
pm2 restart all
echo "Atualiza√ß√£o conclu√≠da. Apreciar!"
```

Torne-o execut√°vel e execute-o:
```bash
chmod +x updateWhaticket
./updateWhaticket
```
